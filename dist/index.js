!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.SvgTree=e()}(this,function(){"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function e(t,e){return e={exports:{}},t(e,e.exports),e.exports}var i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=e(function(t){!function(e,i){var n={},s=e.GreenSockGlobals=e.GreenSockGlobals||e;if(!s.TweenLite){var r,a,o,l,h,_=function(t){var e,i=t.split("."),n=s;for(e=0;e<i.length;e++)n[i[e]]=n=n[i[e]]||{};return n},u=_("com.greensock"),c=1e-10,f=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},d=function(){},p=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),m={},v=function(r,a,o,l){this.sc=m[r]?m[r].sc:[],m[r]=this,this.gsClass=null,this.func=o;var h=[];this.check=function(u){for(var c,f,d,p,g,y=a.length,w=y;--y>-1;)(c=m[a[y]]||new v(a[y],[])).gsClass?(h[y]=c.gsClass,w--):u&&c.sc.push(this);if(0===w&&o){if(f=("com.greensock."+r).split("."),d=f.pop(),p=_(f.join("."))[d]=this.gsClass=o.apply(o,h),l)if(s[d]=n[d]=p,g="undefined"!=typeof t&&t.exports,!g&&"function"==typeof define&&define.amd)define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+r.split(".").pop(),[],function(){return p});else if(g)if(r===i){t.exports=n[i]=p;for(y in n)p[y]=n[y]}else n[i]&&(n[i][d]=p);for(y=0;y<this.sc.length;y++)this.sc[y].check()}},this.check(!0)},g=e._gsDefine=function(t,e,i,n){return new v(t,e,i,n)},y=u._class=function(t,e,i){return e=e||function(){},g(t,[],function(){return e},i),e};g.globals=s;var w=[0,0,1,1],T=y("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?w.concat(e):w},!0),b=T.map={},k=T.register=function(t,e,i,n){for(var s,r,a,o,l=e.split(","),h=l.length,_=(i||"easeIn,easeOut,easeInOut").split(",");--h>-1;)for(r=l[h],s=n?y("easing."+r,null,!0):u.easing[r]||{},a=_.length;--a>-1;)o=_[a],b[r+"."+o]=b[o+r]=s[o]=t.getRatio?t:t[o]||new t};for(o=T.prototype,o._calcEnd=!1,o.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},r=["Linear","Quad","Cubic","Quart","Quint,Strong"],a=r.length;--a>-1;)o=r[a]+",Power"+a,k(new T(null,null,1,a),o,"easeOut",!0),k(new T(null,null,2,a),o,"easeIn"+(0===a?",easeNone":"")),k(new T(null,null,3,a),o,"easeInOut");b.linear=u.easing.Linear.easeIn,b.swing=u.easing.Quad.easeInOut;var x=y("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});o=x.prototype,o.addEventListener=function(t,e,i,n,s){s=s||0;var r,a,o=this._listeners[t],_=0;for(this!==l||h||l.wake(),null==o&&(this._listeners[t]=o=[]),a=o.length;--a>-1;)r=o[a],r.c===e&&r.s===i?o.splice(a,1):0===_&&r.pr<s&&(_=a+1);o.splice(_,0,{c:e,s:i,up:n,pr:s})},o.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},o.dispatchEvent=function(t){var e,i,n,s=this._listeners[t];if(s)for(e=s.length,e>1&&(s=s.slice(0)),i=this._eventTarget;--e>-1;)n=s[e],n&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var P=e.requestAnimationFrame,A=e.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},S=C();for(r=["ms","moz","webkit","o"],a=r.length;--a>-1&&!P;)P=e[r[a]+"RequestAnimationFrame"],A=e[r[a]+"CancelAnimationFrame"]||e[r[a]+"CancelRequestAnimationFrame"];y("Ticker",function(t,e){var i,n,s,r,a,o=this,_=C(),u=!(e===!1||!P)&&"auto",f=500,p=33,m="tick",v=function(t){var e,l,h=C()-S;h>f&&(_+=h-p),S+=h,o.time=(S-_)/1e3,e=o.time-a,(!i||e>0||t===!0)&&(o.frame++,a+=e+(e>=r?.004:r-e),l=!0),t!==!0&&(s=n(v)),l&&o.dispatchEvent(m)};x.call(o),o.time=o.frame=0,o.tick=function(){v(!0)},o.lagSmoothing=function(t,e){f=t||1/c,p=Math.min(e,f,0)},o.sleep=function(){null!=s&&(u&&A?A(s):clearTimeout(s),n=d,s=null,o===l&&(h=!1))},o.wake=function(t){null!==s?o.sleep():t?_+=-S+(S=C()):o.frame>10&&(S=C()-f+5),n=0===i?d:u&&P?P:function(t){return setTimeout(t,1e3*(a-o.time)+1|0)},o===l&&(h=!0),v(2)},o.fps=function(t){return arguments.length?(i=t,r=1/(i||60),a=this.time+r,void o.wake()):i},o.useRAF=function(t){return arguments.length?(o.sleep(),u=t,void o.fps(i)):u},o.fps(t),setTimeout(function(){"auto"===u&&o.frame<5&&"hidden"!==document.visibilityState&&o.useRAF(!1)},1500)}),o=u.Ticker.prototype=new u.events.EventDispatcher,o.constructor=u.Ticker;var R=y("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,X){h||l.wake();var i=this.vars.useFrames?K:X;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});l=R.ticker=new u.Ticker,o=R.prototype,o._dirty=o._gc=o._initted=o._paused=!1,o._totalTime=o._time=0,o._rawPrevTime=-1,o._next=o._last=o._onUpdate=o._timeline=o.timeline=null,o._paused=!1;var E=function(){h&&C()-S>2e3&&l.wake(),setTimeout(E,2e3)};E(),o.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},o.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},o.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},o.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},o.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},o.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},o.render=function(t,e,i){},o.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},o.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&t<i+this.totalDuration()/this._timeScale},o._enabled=function(t,e){return h||l.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},o._kill=function(t,e){return this._enabled(!1,!1)},o.kill=function(t,e){return this._kill(t,e),this},o._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},o._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},o._callback=function(t){var e=this.vars,i=e[t],n=e[t+"Params"],s=e[t+"Scope"]||e.callbackScope||this,r=n?n.length:0;switch(r){case 0:i.call(s);break;case 1:i.call(s,n[0]);break;case 2:i.call(s,n[0],n[1]);break;default:i.apply(s,n)}},o.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var s=this.vars;if(1===arguments.length)return s[t];null==e?delete s[t]:(s[t]=e,s[t+"Params"]=p(i)&&i.join("").indexOf("{self}")!==-1?this._swapSelfInParams(i):i,s[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},o.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},o.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},o.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},o.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},o.totalTime=function(t,e,i){if(h||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,s=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:s._time)-(this._reversed?n-t:t)/this._timeScale,s._dirty||this._uncache(!1),s._timeline)for(;s._timeline;)s._timeline._time!==(s._startTime+s._totalTime)/s._timeScale&&s.totalTime(s._totalTime,!0),s=s._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(L.length&&J(),this.render(t,e,!1),L.length&&J())}return this},o.progress=o.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},o.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},o.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},o.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||c,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},o.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},o.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(h||t||l.wake(),e=n.rawTime(),i=e-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var D=y("core.SimpleTimeline",function(t){R.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});o=D.prototype=new R,o.constructor=D,o.kill()._gc=!1,o._first=o._last=o._recent=null,o._sortChildren=!1,o.add=o.insert=function(t,e,i,n){var s,r;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),s=this._last,this._sortChildren)for(r=t._startTime;s&&s._startTime>r;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=s,this._recent=t,this._timeline&&this._uncache(!0),this},o._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},o.render=function(t,e,i){var n,s=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;s;)n=s._next,(s._active||t>=s._startTime&&!s._paused)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=n},o.rawTime=function(){return h||l.wake(),this._totalTime};var O=y("TweenLite",function(t,i,n){if(R.call(this,i,n),this.render=O.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:O.selector(t)||t;var s,r,a,o=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?Y[O.defaultOverwrite]:"number"==typeof l?l>>0:Y[l],(o||t instanceof Array||t.push&&p(t))&&"number"!=typeof t[0])for(this._targets=a=f(t),this._propLookup=[],this._siblings=[],s=0;s<a.length;s++)r=a[s],r?"string"!=typeof r?r.length&&r!==e&&r[0]&&(r[0]===e||r[0].nodeType&&r[0].style&&!r.nodeType)?(a.splice(s--,1),this._targets=a=a.concat(f(r))):(this._siblings[s]=V(r,this,!1),1===l&&this._siblings[s].length>1&&Z(r,this,null,1,this._siblings[s])):(r=a[s--]=O.selector(r),"string"==typeof r&&a.splice(s+1,1)):a.splice(s--,1);else this._propLookup={},this._siblings=V(t,this,!1),1===l&&this._siblings.length>1&&Z(t,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-c,this.render(Math.min(0,-this._delay)))},!0),F=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)},I=function(t,e){var i,n={};for(i in t)H[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!G[i]||G[i]&&G[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};o=O.prototype=new R,o.constructor=O,o.kill()._gc=!1,o.ratio=0,o._firstPT=o._targets=o._overwrittenProps=o._startAt=null,o._notifyPluginsOfEnabled=o._lazy=!1,O.version="1.19.0",O.defaultEase=o._ease=new T(null,null,1,1),O.defaultOverwrite="auto",O.ticker=l,O.autoSleep=120,O.lagSmoothing=function(t,e){l.lagSmoothing(t,e)},O.selector=e.$||e.jQuery||function(t){var i=e.$||e.jQuery;return i?(O.selector=i,i(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var L=[],z={},B=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,N=function(t){for(var e,i=this._firstPT,n=1e-6;i;)e=i.blob?t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m(e,this._target||i.t):e<n&&e>-n&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},M=function(t,e,i,n){var s,r,a,o,l,h,_,u=[t,e],c=0,f="",d=0;for(u.start=t,i&&(i(u),t=u[0],e=u[1]),u.length=0,s=t.match(B)||[],r=e.match(B)||[],n&&(n._next=null,n.blob=1,u._firstPT=u._applyPT=n),l=r.length,o=0;o<l;o++)_=r[o],h=e.substr(c,e.indexOf(_,c)-c),f+=h||!o?h:",",c+=h.length,d?d=(d+1)%5:"rgba("===h.substr(-5)&&(d=1),_===s[o]||s.length<=o?f+=_:(f&&(u.push(f),f=""),a=parseFloat(s[o]),u.push(a),u._firstPT={_next:u._firstPT,t:u,p:u.length-1,s:a,c:("="===_.charAt(1)?parseInt(_.charAt(0)+"1",10)*parseFloat(_.substr(2)):parseFloat(_)-a)||0,f:0,m:d&&d<4?Math.round:0}),c+=_.length;return f+=e.substr(c),f&&u.push(f),u.setRatio=N,u},j=function(t,e,i,n,s,r,a,o,l){"function"==typeof n&&(n=n(l||0,t));var h,_,u="get"===i?t[e]:i,c=typeof t[e],f="string"==typeof n&&"="===n.charAt(1),d={t:t,p:e,s:u,f:"function"===c,pg:0,n:s||e,m:r?"function"==typeof r?r:Math.round:0,pr:0,c:f?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-u||0};if("number"!==c&&("function"===c&&"get"===i&&(_=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),d.s=u=a?t[_](a):t[_]()),"string"==typeof u&&(a||isNaN(u))?(d.fp=a,h=M(u,n,o||O.defaultStringFilter,d),d={t:h,p:"setRatio",s:0,c:1,f:2,pg:0,n:s||e,pr:0,m:0}):f||(d.s=parseFloat(u),d.c=parseFloat(n)-d.s||0)),d.c)return(d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d,d},U=O._internals={isArray:p,isSelector:F,lazyTweens:L,blobDif:M},G=O._plugins={},Q=U.tweenLookup={},q=0,H=U.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},Y={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},K=R._rootFramesTimeline=new D,X=R._rootTimeline=new D,$=30,J=U.lazyRender=function(){var t,e=L.length;for(z={};--e>-1;)t=L[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);L.length=0};X._startTime=l.time,K._startTime=l.frame,X._active=K._active=!0,setTimeout(J,1),R._updateRoot=O.render=function(){var t,e,i;if(L.length&&J(),X.render((l.time-X._startTime)*X._timeScale,!1,!1),K.render((l.frame-K._startTime)*K._timeScale,!1,!1),L.length&&J(),l.frame>=$){$=l.frame+(parseInt(O.autoSleep,10)||120);for(i in Q){for(e=Q[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete Q[i]}if(i=X._first,(!i||i._paused)&&O.autoSleep&&!K._first&&1===l._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||l.sleep()}}},l.addEventListener("tick",R._updateRoot);var V=function(t,e,i){var n,s,r=t._gsTweenID;if(Q[r||(t._gsTweenID=r="t"+q++)]||(Q[r]={target:t,tweens:[]}),e&&(n=Q[r].tweens,n[s=n.length]=e,i))for(;--s>-1;)n[s]===e&&n.splice(s,1);return Q[r].tweens},W=function(t,e,i,n){var s,r,a=t.vars.onOverwrite;return a&&(s=a(t,e,i,n)),a=O.onOverwrite,a&&(r=a(t,e,i,n)),s!==!1&&r!==!1},Z=function(t,e,i,n,s){var r,a,o,l;if(1===n||n>=4){for(l=s.length,r=0;r<l;r++)if((o=s[r])!==e)o._gc||o._kill(null,t,e)&&(a=!0);else if(5===n)break;return a}var h,_=e._startTime+c,u=[],f=0,d=0===e._duration;for(r=s.length;--r>-1;)(o=s[r])===e||o._gc||o._paused||(o._timeline!==e._timeline?(h=h||tt(e,0,d),0===tt(o,h,d)&&(u[f++]=o)):o._startTime<=_&&o._startTime+o.totalDuration()/o._timeScale>_&&((d||!o._initted)&&_-o._startTime<=2e-10||(u[f++]=o)));for(r=f;--r>-1;)if(o=u[r],2===n&&o._kill(i,t,e)&&(a=!0),2!==n||!o._firstPT&&o._initted){if(2!==n&&!W(o,e))continue;o._enabled(!1,!1)&&(a=!0)}return a},tt=function(t,e,i){for(var n=t._timeline,s=n._timeScale,r=t._startTime;n._timeline;){if(r+=n._startTime,s*=n._timeScale,n._paused)return-100;n=n._timeline}return r/=s,r>e?r-e:i&&r===e||!t._initted&&r-e<2*c?c:(r+=t.totalDuration()/t._timeScale/s)>e+c?0:r-e-c};o._init=function(){var t,e,i,n,s,r,a=this.vars,o=this._overwrittenProps,l=this._duration,h=!!a.immediateRender,_=a.ease;if(a.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),s={};for(n in a.startAt)s[n]=a.startAt[n];if(s.overwrite=!1,s.immediateRender=!0,s.lazy=h&&a.lazy!==!1,s.startAt=s.delay=null,this._startAt=O.to(this.target,0,s),h)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(a.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(h=!1),i={};for(n in a)H[n]&&"autoCSS"!==n||(i[n]=a[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=h&&a.lazy!==!1,i.immediateRender=h,this._startAt=O.to(this.target,0,i),h){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=_=_?_ instanceof T?_:"function"==typeof _?new T(_,a.easeParams):b[_]||O.defaultEase:O.defaultEase,a.easeParams instanceof Array&&_.config&&(this._ease=_.config.apply(_,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(r=this._targets.length,t=0;t<r;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],o?o[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,o,0);if(e&&O._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=a.onUpdate,this._initted=!0},o._initProps=function(t,i,n,s,r){var a,o,l,h,_,u;if(null==t)return!1;z[t._gsTweenID]&&J(),this.vars.css||t.style&&t!==e&&t.nodeType&&G.css&&this.vars.autoCSS!==!1&&I(this.vars,t);for(a in this.vars)if(u=this.vars[a],H[a])u&&(u instanceof Array||u.push&&p(u))&&u.join("").indexOf("{self}")!==-1&&(this.vars[a]=u=this._swapSelfInParams(u,this));else if(G[a]&&(h=new G[a])._onInitTween(t,this.vars[a],this,r)){for(this._firstPT=_={_next:this._firstPT,t:h,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:h._priority,m:0},o=h._overwriteProps.length;--o>-1;)i[h._overwriteProps[o]]=this._firstPT;(h._priority||h._onInitAllProps)&&(l=!0),(h._onDisable||h._onEnable)&&(this._notifyPluginsOfEnabled=!0),_._next&&(_._next._prev=_)}else i[a]=j.call(this,t,a,"get",u,a,0,null,this.vars.stringFilter,r);return s&&this._kill(s,t)?this._initProps(t,i,n,s,r):this._overwrite>1&&this._firstPT&&n.length>1&&Z(t,this,i,this._overwrite,n)?(this._kill(i,t),this._initProps(t,i,n,s,r)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(z[t._gsTweenID]=!0),l)},o.render=function(t,e,i){var n,s,r,a,o=this._time,l=this._duration,h=this._rawPrevTime;if(t>=l-1e-7)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,s="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(h<0||t<=0&&t>=-1e-7||h===c&&"isPause"!==this.data)&&h!==t&&(i=!0,h>c&&(s="onReverseComplete")),this._rawPrevTime=a=!e||t||h===t?t:c);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===l&&h>0)&&(s="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(h>=0&&(h!==c||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||h===t?t:c)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var _=t/l,u=this._easeType,f=this._easePower;(1===u||3===u&&_>=.5)&&(_=1-_),3===u&&(_*=2),1===f?_*=_:2===f?_*=_*_:3===f?_*=_*_*_:4===f&&(_*=_*_*_*_),1===u?this.ratio=1-_:2===u?this.ratio=_:t/l<.5?this.ratio=_/2:this.ratio=1-_/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==o||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=o,this._rawPrevTime=h,L.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&t>=0&&(this._active=!0),0===o&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):s||(s="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||e||this._callback("onStart"))),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(t<0&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==o||n||i)&&this._callback("onUpdate")),s&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s),0===l&&this._rawPrevTime===c&&a!==c&&(this._rawPrevTime=0)))}},o._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:O.selector(e)||e;var n,s,r,a,o,l,h,_,u,c=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((p(e)||F(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(l=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){o=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],s=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;o=this._propLookup,s=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){if(h=t||o,_=t!==s&&"all"!==s&&t!==o&&("object"!=typeof t||!t._tempKill),i&&(O.onOverwrite||this.vars.onOverwrite)){for(r in h)o[r]&&(u||(u=[]),u.push(r));if((u||!t)&&!W(this,i,e,u))return!1}for(r in h)(a=o[r])&&(c&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,l=!0),a.pg&&a.t._kill(h)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete o[r]),_&&(s[r]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},o.invalidate=function(){return this._notifyPluginsOfEnabled&&O._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],R.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-c,this.render(Math.min(0,-this._delay))),this},o._enabled=function(t,e){if(h||l.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=V(n[i],this,!0);else this._siblings=V(this.target,this,!0)}return R.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&O._onPluginEvent(t?"_onEnable":"_onDisable",this)},O.to=function(t,e,i){return new O(t,e,i)},O.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new O(t,e,i)},O.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new O(t,e,n)},O.delayedCall=function(t,e,i,n,s){return new O(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:s,overwrite:0})},O.set=function(t,e){return new O(t,0,e)},O.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:O.selector(t)||t;var i,n,s,r;if((p(t)||F(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(O.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(r=n[i],s=i;--s>-1;)r===n[s]&&n.splice(i,1)}else for(n=V(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},O.killTweensOf=O.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=O.getTweensOf(t,e),s=n.length;--s>-1;)n[s]._kill(i,t)};var et=y("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=et.prototype},!0);if(o=et.prototype,et.version="1.19.0",et.API=2,o._firstPT=null,o._addTween=j,o.setRatio=N,o._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},o._mod=o._roundProps=function(t){for(var e,i=this._firstPT;i;)e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")],e&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},O._onPluginEvent=function(t,e){var i,n,s,r,a,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(a=o._next,n=s;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:r)?o._prev._next=o:s=o,(o._next=n)?n._prev=o:r=o,o=a}o=e._firstPT=s}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},et.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===et.API&&(G[(new t[e])._propName]=t[e]);return!0},g.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,s=t.overwriteProps,r={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=y("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){et.call(this,i,n),this._overwriteProps=s||[]},t.global===!0),o=a.prototype=new et(i);o.constructor=a,a.API=t.API;for(e in r)"function"==typeof t[e]&&(o[r[e]]=t[e]);return a.version=t.version,et.activate([a]),a},r=e._gsQueue){for(a=0;a<r.length;a++)r[a]();for(o in m)m[o].func||e.console.log("GSAP encountered missing dependency: "+o)}h=!1}}("undefined"!=typeof t&&t.exports&&"undefined"!=typeof i?i:i||window,"TweenLite")}),s=t(n),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l="http://www.w3.org/2000/svg",h=function(){function t(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];a(this,t),this._element=this._createElement(e),this.setAttribute(i),"svg"===e&&this._element.setAttributeNS(null,"viewBox","0 0 "+i.width+" "+i.height)}return o(t,[{key:"getBBox",value:function(){return this._element.getBBox()}},{key:"setAttribute",value:function(t,e){var i={};"object"===("undefined"==typeof t?"undefined":r(t))?i=t:i[t]=e;var n=["stroke","fill","color","cursor"],s={};for(var a in i)this[a]=i[a],n.indexOf(a)>-1?s[a]=i[a]:this._element.setAttributeNS(null,a,i[a]);var o="";for(var l in s)o+=l+": "+s[l]+";";o&&this._element.setAttributeNS(null,"style",o)}},{key:"setContent",value:function(t){return this._element.innerHTML=t,this}},{key:"appendChild",value:function(t){this._element.appendChild(t.element)}},{key:"animatePosition",value:function(t,e){var i=this;e.onUpdate=function(){i.setAttribute("transform","translate("+t.x+","+t.y+")")};s.to(t,.5,e)}},{key:"path",value:function(t,e,i,n,s){this._updatePath(t,e,i,n),this.setAttribute({stroke:s,fill:"none",x1:t,y1:e,x2:i,y2:n})}},{key:"clear",value:function(){for(;this._element.lastChild;)this._element.removeChild(this._element.lastChild)}},{key:"bindEvent",value:function(t,e){this._element.addEventListener(t,e,!1)}},{key:"_updatePath",value:function(t,e,i,n){var r=this;if(this.x1||this.x2)!function(){var a={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},o={x1:t,y1:e,x2:i,y2:n};o.onUpdate=function(){var t="M"+a.x1+" "+a.y1+" C"+((a.x2-a.x1)/8*7+a.x1)+" "+a.y1+" "+((a.x2-a.x1)/8+a.x1)+" "+a.y2+" "+a.x2+" "+a.y2;r.setAttribute("d",t)};s.to(a,.5,o)}();else{var a="M"+t+" "+e+" C"+((i-t)/8*7+t)+" "+e+" "+((i-t)/8+t)+" "+n+" "+i+" "+n;this.setAttribute("d",a)}}},{key:"_createElement",value:function(t){return document.createElementNS(l,t)}},{key:"element",get:function(){return this._element}}]),t}(),_={normal:{fill:"#00C0FF",stroke:"none",color:"white",circleColor:"white"},root:{stroke:"#f0f0f0",fill:"none",color:"black",circleColor:"#00C0FF"}},u={lineHeight:24,padding:5,circleR:5},c=function(){function t(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];a(this,t),i.type||(i.type="normal");var n=_[i.type],s=Date.now()+""+(1e5*Math.random()|0),r=new h("g",{id:s,is_node:1,cursor:"pointer"}),o=new h("text",{x:2*u.circleR+2*u.padding,color:n.color,"text-rendering":"geometricPrecision"}).setContent(e),l=new h("rect",{stroke:n.stroke,fill:n.fill,height:u.lineHeight+2*u.padding}),c=new h("circle",{r:u.circleR,cx:u.circleR+u.padding,cy:(u.lineHeight+2*u.padding)/2,stroke:"none",fill:n.circleColor});r.appendChild(l),r.appendChild(c),r.appendChild(o);var f={id:s,title:e,x:0,y:0,type:i.type,width:0,height:0,isShow:!0,childrenShow:!0,direction:"right",maxChildren:0,children:[],_elements:{wrapper:r,border:l,text:o,itemSymbol:c}};return setTimeout(function(){var t=o.getBBox();l.setAttribute("width",t.width+3*u.padding+2*u.circleR),o.setAttribute("y",t.height+u.padding+(u.lineHeight-t.height)/2)},0),Object.assign(this,f)}return o(t,[{key:"bindEvent",value:function(t,e){"function"==typeof e&&this.wrapper.bindEvent(t,e)}},{key:"setPosition",value:function(t){0===this.x&&0===this.y?this._elements.wrapper.setAttribute({x:t.x,y:t.y,transform:"translate("+t.x+","+t.y+")"}):(this._elements.wrapper.animatePosition({x:this.x,y:this.y},{x:t.x,y:t.y}),this._elements.wrapper.setAttribute({transform:"translate("+t.x+","+t.y+")"})),this.x=t.x,this.y=t.y}},{key:"hide",value:function(){this._elements.wrapper.setAttribute({display:"none"})}},{key:"show",value:function(){this._elements.wrapper.setAttribute({display:"block"})}},{key:"getBBox",value:function(){return this._elements.wrapper.getBBox()}},{key:"element",get:function(){return this._elements.wrapper}}]),t}(),f=800,d=500,p=function(){function t(e,i){a(this,t),this.width=i.width||f,this.height=i.height||d,this._svg=new h("svg",{width:i.width,
height:i.height}),this._canvas=new h("g",{width:i.width,height:i.height}),this._dnd(),this._svg.appendChild(this._canvas),e.appendChild(this._svg.element)}return o(t,[{key:"_dnd",value:function(){var t=new h("rect",{width:this._canvas.width,height:this._canvas.height,style:"stroke:none;fill:white;cursor:-webkit-grab;"});this._svg.appendChild(t),t=t.element;var e=this._canvas;e.x=0,e.y=0,e.scale=1,function(){var i,n,s,r,a=!1;t.addEventListener("mousedown",function(t){console.log("mousedown"),i=e.x,n=e.y,s=t.pageX,r=t.pageY,a=!0},!1),document.addEventListener("mousemove",function(t){if(a){var o=t.pageX-s,l=t.pageY-r;e.x=i+o,e.y=n+l,e.setAttribute("transform","translate("+e.x+","+e.y+"),scale("+e.scale+")")}},!1),document.addEventListener("mouseup",function(t){a=!1},!1);var o;t.addEventListener("mousewheel",function(t){if(t.ctrlKey){var i=t.deltaY;if(0!==i)return i>0?i=1-.0125*i:i<0&&(i=1-.0125*i),e.scale*=i,e.scale<.1&&(e.scale=.1),e.scale>2&&(e.scale=2),clearTimeout(o),o=setTimeout(function(){e.scale>=.9&&e.scale<=1.1&&(e.scale=1,e.setAttribute("transform","translate("+e.x+","+e.y+"),scale("+e.scale+")"))},100),e.setAttribute("transform","translate("+e.x+","+e.y+"),scale("+e.scale+")"),!1}},!1)}()}},{key:"clear",value:function(){this._canvas.clear()}},{key:"bindEvent",value:function(t,e){"function"==typeof e&&this._canvas.bindEvent(t,e)}},{key:"appendNode",value:function(t){this._canvas.appendChild(t.element)}},{key:"appendPath",value:function(t){this._canvas.appendChild(t)}}]),t}(),m=150,v=50,g=function(){function t(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];a(this,t),this._canvas=new p(e,i)}return o(t,[{key:"renderTree",value:function(t){this._hashMap={},this._connectMap={},this._tree=this._buildTree(t),this._renderTree(this._tree),this._toggle()}},{key:"_countChildren",value:function(t){var e=function t(e){if(!e.children||!e.children.length)return 1;if(!e.isShow)return 0;var i=0;return e.children.forEach(function(e){i+=t(e)}),i};return e(t)}},{key:"_decideRootLeftRight",value:function(t){var e=this,i=0,n=0;t.children.forEach(function(s,r){var a=t.children[r];n>i?(a.direction="left",i+=e._countChildren(s)):(a.direction="right",n+=e._countChildren(s))})}},{key:"_reCountRootChildren",value:function(t){var e=this;t.count={left:0,right:0},t.children.forEach(function(i,n){var s=t.children[n],r=e._countChildren(i);t.count[s.direction]+=r})}},{key:"_buildChildren",value:function(t,e){var i=this;return this._hashMap[t.id]=t,t.children=[],e.children&&(t.children=e.children.map(function(t){var e=new c(t.title,{type:"normal"});return i._buildChildren(e,t)})),t}},{key:"_toggleTree",value:function(t,e){var i=this;t.children&&t.children.forEach(function(t){t.isShow=e,t.childrenShow=e,i._toggleTree(t,e)})}},{key:"_toggle",value:function(){var t=this;this._canvas.bindEvent("click",function(e){for(var i=e.target;i&&1!=i.getAttribute("is_node");)i=i.parentNode;if(i){var n=i.id,s=t._hashMap[n];s.childrenShow=!s.childrenShow,t._toggleTree(s,s.childrenShow),t._renderTree(t._tree)}})}},{key:"_buildTree",value:function(t,e,i){var n,s=this;return e?n=e.children[i]:(n=new c(t.title,{type:"root"}),this._buildChildren(n,t)),this._canvas.appendNode(n),n.children&&n.children.forEach(function(t,e){s._buildTree(t,n,e)}),n}},{key:"_renderTree",value:function(t,e,i){var n=this;t.isShow?t.show():t.hide();var s={},r=0;if(t.maxChildren=this._countChildren(t),"root"===t.type)this._decideRootLeftRight(t),this._reCountRootChildren(t),s.x=this._canvas.width/2,s.y=this._canvas.height/2;else{"root"===e.type&&(i=t.direction,e.maxChildren=e.count[i]);var a=1;"left"===i&&(a=-1);var o=m*a;s.x=e.x+o,e[i]||(e[i]=0),r=e[i],t.maxChildren||(t.maxChildren=1),e[i]+=t.maxChildren,s.y=e.y-(e.maxChildren/2-(r+t.maxChildren/2))*v}return t.setPosition(s),e&&(t.isShow?this._connect(e,t,i):this._disconnect(e,t)),t.left=0,t.right=0,t.children&&t.children.forEach(function(e,s){n._renderTree(e,t,i)}),t}},{key:"_connect",value:function(t,e,i){var n=this;setTimeout(function(){var s,r,a=t.getBBox(),o=e.getBBox();i||(i="right"),"left"===i?(s=+t.x,r=+e.x+o.width):"right"===i&&(s=+t.x+a.width,r=+e.x);var l=["#A157E5","#24BAE5","#DEE03C","#12E13C","#0BE2C5","#F37F78","#00ACDF"][7*Math.random()|0],_=t.id+""+e.id,u=n._connectMap[_];u||(u=new h("path"),n._canvas.appendPath(u),n._connectMap[_]=u),u.setAttribute("display","block"),u.path(s,+t.y+a.height/2,r,+e.y+o.height/2,l)},0)}},{key:"_disconnect",value:function(t,e){var i=t.id+""+e.id,n=this._connectMap[i];n.setAttribute("display","none")}}]),t}(),y=function(){function t(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];a(this,t),this._tree=new g(e,i),i.nodeList&&this.renderTree(i.nodeList)}return o(t,[{key:"renderTree",value:function(t){this._tree.renderTree(t)}}]),t}();return y});